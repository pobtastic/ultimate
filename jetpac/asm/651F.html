<!DOCTYPE html>
<html>
<head>
<title>Jetpac: Routine at 651F</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../jetpac.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="6498.html">6498</a>
</td>
<td class="up">Up: <a href="../maps/all.html#25887">Map</a></td>
<td class="next">
Next: <a href="66C7.html">66C7</a>
</td>
</tr>
</table>
<div class="description">651F: Routine at 651F</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="25887"></span>651F</td>
<td class="instruction">CALL <a href="7327.html">StoreEntity</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25890"></span>6522</td>
<td class="instruction">LD A,(IX+$04)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25893"></span>6525</td>
<td class="instruction">BIT 2,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25895"></span>6527</td>
<td class="instruction">JP NZ,$659C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25898"></span>652A</td>
<td class="instruction">BIT 1,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25900"></span>652C</td>
<td class="instruction">JR NZ,$6578</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25902"></span>652E</td>
<td class="instruction">BIT 0,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25904"></span>6530</td>
<td class="instruction">JR Z,$654B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25906"></span>6532</td>
<td class="instruction">CALL <a href="6DD3.html#28192">$6E20</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25909"></span>6535</td>
<td class="instruction">DEC E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25910"></span>6536</td>
<td class="instruction">JR Z,$655A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25912"></span>6538</td>
<td class="instruction">CALL <a href="761D.html">$761D</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25915"></span>653B</td>
<td class="instruction">BIT 2,E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25917"></span>653D</td>
<td class="instruction">JR NZ,$6545</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="25919"></span>653F</td>
<td class="instruction">INC (IX+$02)</td>
<td class="comment-1" rowspan="2">Drop <span class="register">IX</span>+$02 (fuel Y co-ordinate) by two pixels</td>
</tr>
<tr>
<td class="address-1"><span id="25922"></span>6542</td>
<td class="instruction">INC (IX+$02)</td>
</tr>
<tr>
<td class="address-2"><span id="25925"></span>6545</td>
<td class="instruction">CALL <a href="726A.html">$726A</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25928"></span>6548</td>
<td class="instruction">JP <a href="71CF.html">ColouriseSprite</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="25931"></span>654B</td>
<td class="instruction">LD A,($5DF0)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25934"></span>654E</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25935"></span>654F</td>
<td class="instruction">AND $06</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25937"></span>6551</td>
<td class="instruction">CALL <a href="6498.html#25829">$64E5</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25940"></span>6554</td>
<td class="instruction">CALL <a href="726A.html#29339">$729B</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25943"></span>6557</td>
<td class="instruction">JP <a href="71CF.html">ColouriseSprite</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="25946"></span>655A</td>
<td class="instruction">SET 1,(IX+$04)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25950"></span>655E</td>
<td class="instruction">CALL <a href="726A.html#29349">$72A5</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25953"></span>6561</td>
<td class="instruction">LD BC,$0100</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25956"></span>6564</td>
<td class="instruction">CALL <a href="70F9.html">AddPointsToScore</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25959"></span>6567</td>
<td class="instruction">CALL <a href="6803.html">SoundsPickupFuel</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25962"></span>656A</td>
<td class="instruction">LD HL,($5D01)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25965"></span>656D</td>
<td class="instruction">LD (IX+$01),L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25968"></span>6570</td>
<td class="instruction">LD (IX+$02),H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25971"></span>6573</td>
<td class="instruction">CALL <a href="7327.html">StoreEntity</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25974"></span>6576</td>
<td class="instruction">JR $6545</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="25976"></span>6578</td>
<td class="instruction">LD HL,($5D01)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25979"></span>657B</td>
<td class="instruction">LD (IX+$01),L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25982"></span>657E</td>
<td class="instruction">LD (IX+$02),H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25985"></span>6581</td>
<td class="instruction">LD A,($5D31)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25988"></span>6584</td>
<td class="instruction">SUB (IX+$01)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25991"></span>6587</td>
<td class="instruction">JP P,$658C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25994"></span>658A</td>
<td class="instruction">NEG</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="25996"></span>658C</td>
<td class="instruction">CP $06</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="25998"></span>658E</td>
<td class="instruction">JR NC,$6545</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26000"></span>6590</td>
<td class="instruction">SET 2,(IX+$04)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26004"></span>6594</td>
<td class="instruction">LD A,($5D31)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26007"></span>6597</td>
<td class="instruction">LD (IX+$01),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26010"></span>659A</td>
<td class="instruction">JR $6545</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="26012"></span>659C</td>
<td class="instruction">LD A,(IX+$06)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26015"></span>659F</td>
<td class="instruction">CP $18</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26017"></span>65A1</td>
<td class="instruction">JR Z,$65CE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26019"></span>65A3</td>
<td class="instruction">SLA A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26021"></span>65A5</td>
<td class="instruction">ADD A,(IX+$02)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26024"></span>65A8</td>
<td class="instruction">CP $B7</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26026"></span>65AA</td>
<td class="instruction">JP C,$653F</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26029"></span>65AD</td>
<td class="instruction">LD A,($5D3C)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26032"></span>65B0</td>
<td class="instruction">OR $01</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26034"></span>65B2</td>
<td class="instruction">LD ($5D3C),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26037"></span>65B5</td>
<td class="instruction">LD A,($5D34)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26040"></span>65B8</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26041"></span>65B9</td>
<td class="instruction">LD ($5D34),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26044"></span>65BC</td>
<td class="instruction">LD A,(IX+$06)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26047"></span>65BF</td>
<td class="instruction">ADD A,$08</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26049"></span>65C1</td>
<td class="instruction">CALL <a href="6DD3.html#28409">$6EF9</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="26052"></span>65C4</td>
<td class="instruction">CALL <a href="726A.html#29349">$72A5</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26055"></span>65C7</td>
<td class="instruction">LD (IX+$00),$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26059"></span>65CB</td>
<td class="instruction">JP <a href="67FD.html">SoundsRocketBuild</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="26062"></span>65CE</td>
<td class="instruction">LD A,(IX+$02)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=(<span class="register">IX</span>+$02) (fuel Y co-ordinate)</td>
</tr>
<tr>
<td class="address-1"><span id="26065"></span>65D1</td>
<td class="instruction">CP $B0</td>
<td class="comment-1" rowspan="1">Is <span class="register">A</span>=$B0? (has the fuel reached the ship yet?)</td>
</tr>
<tr>
<td class="address-1"><span id="26067"></span>65D3</td>
<td class="instruction">JP C,$653F</td>
<td class="comment-1" rowspan="1">If not, jump back to <a href="651F.html#25919">653F</a></td>
</tr>
<tr>
<td class="address-1"><span id="26070"></span>65D6</td>
<td class="instruction">LD A,($5D35)</td>
<td class="comment-1" rowspan="3">Fuel pod deposited correctly; increase <a href="5D30.html#23861">ActivePlayerNum_Fuel_Pods</a> by one</td>
</tr>
<tr>
<td class="address-1"><span id="26073"></span>65D9</td>
<td class="instruction">INC A</td>
</tr>
<tr>
<td class="address-1"><span id="26074"></span>65DA</td>
<td class="instruction">LD ($5D35),A</td>
</tr>
<tr>
<td class="address-1"><span id="26077"></span>65DD</td>
<td class="instruction">JR $65C4</td>
<td class="comment-1" rowspan="1">Jump to <a href="651F.html#26052">65C4</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="26079"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="6965.html">6965</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="26079"></span>65DF</td>
<td class="instruction">LD A,($5D00)</td>
<td class="comment-1" rowspan="3">If <a href="5D00.html">JETMAN_FRAME</a> is &amp;$3F then return...</td>
</tr>
<tr>
<td class="address-1"><span id="26082"></span>65E2</td>
<td class="instruction">AND $3F</td>
</tr>
<tr>
<td class="address-1"><span id="26084"></span>65E4</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="address-1"><span id="26085"></span>65E5</td>
<td class="instruction">CP $03</td>
<td class="comment-1" rowspan="2">Return if <a href="5D00.html">JETMAN_FRAME</a> is greater than (or equal to) $03</td>
</tr>
<tr>
<td class="address-1"><span id="26087"></span>65E7</td>
<td class="instruction">RET NC</td>
</tr>
<tr>
<td class="address-1"><span id="26088"></span>65E8</td>
<td class="instruction">LD HL,$6038</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span> Source address: $6038</td>
</tr>
<tr>
<td class="address-1"><span id="26091"></span>65EB</td>
<td class="instruction">LD DE,$5D40</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span> Target address: <a href="5D40.html">ITEM_VISIBILITY</a></td>
</tr>
<tr>
<td class="address-1"><span id="26094"></span>65EE</td>
<td class="instruction">LD BC,$0008</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=loop counter</td>
</tr>
<tr>
<td class="address-1"><span id="26097"></span>65F1</td>
<td class="instruction">LD A,(DE)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=(<span class="register">DE</span>)</td>
</tr>
<tr>
<td class="address-1"><span id="26098"></span>65F2</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26099"></span>65F3</td>
<td class="instruction">RET NZ</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26100"></span>65F4</td>
<td class="instruction">LD A,($5DCC)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26103"></span>65F7</td>
<td class="instruction">AND $7F</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26105"></span>65F9</td>
<td class="instruction">RET NZ</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26106"></span>65FA</td>
<td class="instruction">LDIR</td>
<td class="comment-1" rowspan="1">Action! Copy source to target, decrease counter, repeat until zero</td>
</tr>
<tr>
<td class="address-1"><span id="26108"></span>65FC</td>
<td class="instruction">CALL $6612</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26111"></span>65FF</td>
<td class="instruction">LD ($5D41),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26114"></span>6602</td>
<td class="instruction">LD A,R</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26116"></span>6604</td>
<td class="instruction">AND $0E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26118"></span>6606</td>
<td class="instruction">BIT 3,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26120"></span>6608</td>
<td class="instruction">JR Z,$660C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26122"></span>660A</td>
<td class="instruction">AND $08</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="26124"></span>660C</td>
<td class="instruction">OR $20</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26126"></span>660E</td>
<td class="instruction">LD ($5D46),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26129"></span>6611</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="26130"></span>6612</td>
<td class="instruction">LD HL,$6620</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26133"></span>6615</td>
<td class="instruction">LD A,($5DCE)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26136"></span>6618</td>
<td class="instruction">AND $0F</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26138"></span>661A</td>
<td class="instruction">LD C,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26139"></span>661B</td>
<td class="instruction">LD B,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26141"></span>661D</td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26142"></span>661E</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26143"></span>661F</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26144"></span>6620</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26145"></span>6621</td>
<td class="instruction">JR NZ,$664B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26147"></span>6623</td>
<td class="instruction">JR NC,$665D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26149"></span>6625</td>
<td class="instruction">LD B,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26150"></span>6626</td>
<td class="instruction">LD E,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26151"></span>6627</td>
<td class="instruction">LD H,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26152"></span>6628</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26153"></span>6629</td>
<td class="instruction">ADD A,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26154"></span>662A</td>
<td class="instruction">ADC A,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26155"></span>662B</td>
<td class="instruction">RET NZ</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26156"></span>662C</td>
<td class="instruction">RET PO</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26157"></span>662D</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26158"></span>662E</td>
<td class="instruction">LD E,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26159"></span>662F</td>
<td class="instruction">LD H,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="26160"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="6965.html">6965</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="26160"></span>6630</td>
<td class="instruction">LD A,($5D00)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26163"></span>6633</td>
<td class="instruction">AND $3F</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26165"></span>6635</td>
<td class="instruction">RET Z</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26166"></span>6636</td>
<td class="instruction">CP $03</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26168"></span>6638</td>
<td class="instruction">RET NC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26169"></span>6639</td>
<td class="instruction">LD HL,$6030</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=$6030</td>
</tr>
<tr>
<td class="address-1"><span id="26172"></span>663C</td>
<td class="instruction">LD DE,$5D38</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=<a href="5D38.html">5D38</a></td>
</tr>
<tr>
<td class="address-1"><span id="26175"></span>663F</td>
<td class="instruction">LD BC,$0008</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=$0008</td>
</tr>
<tr>
<td class="address-1"><span id="26178"></span>6642</td>
<td class="instruction">LD A,(DE)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=(<span class="register">DE</span>)</td>
</tr>
<tr>
<td class="address-1"><span id="26179"></span>6643</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26180"></span>6644</td>
<td class="instruction">RET NZ</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26181"></span>6645</td>
<td class="instruction">LD A,($5D35)</td>
<td class="comment-1" rowspan="2">Check if <a href="5D30.html#23861">ActivePlayerNum_Fuel_Pods</a> is $06? Is the ship full of fuel?</td>
</tr>
<tr>
<td class="address-1"><span id="26184"></span>6648</td>
<td class="instruction">CP $06</td>
</tr>
<tr>
<td class="address-1"><span id="26186"></span>664A</td>
<td class="instruction">RET NC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="26187"></span>664B</td>
<td class="instruction">LD A,($5DCC)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26190"></span>664E</td>
<td class="instruction">CPL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26191"></span>664F</td>
<td class="instruction">AND $0F</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26193"></span>6651</td>
<td class="instruction">RET NZ</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26194"></span>6652</td>
<td class="instruction">LDIR</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26196"></span>6654</td>
<td class="instruction">CALL $6612</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26199"></span>6657</td>
<td class="instruction">LD ($5D39),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26202"></span>665A</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="26203"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="66C7.html">66C7</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="26203"></span>665B</td>
<td class="instruction">LD HL,$5D38</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="5D38.html">5D38</a></td>
</tr>
<tr>
<td class="address-1"><span id="26206"></span>665E</td>
<td class="instruction">LD B,$0C</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=$0C</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="26208"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="60DD.html">PlayerReset</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="26208"></span>6660</td>
<td class="instruction">LD DE,$0008</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=$0008</td>
</tr>
<tr>
<td class="address-2"><span id="26211"></span>6663</td>
<td class="instruction">LD (HL),$00</td>
<td class="comment-1" rowspan="1">Reset the memory held at location <span class="register">HL</span> (set to $00)</td>
</tr>
<tr>
<td class="address-1"><span id="26213"></span>6665</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-1" rowspan="1">Increase <span class="register">HL</span> by $08</td>
</tr>
<tr>
<td class="address-1"><span id="26214"></span>6666</td>
<td class="instruction">DJNZ $6663</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">B</span> by one, and loop back to <a href="651F.html#26211">6663</a> until zero</td>
</tr>
<tr>
<td class="address-1"><span id="26216"></span>6668</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="26217"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routines at <a href="66C7.html">66C7</a> and <a href="66EB.html">66EB</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="26217"></span>6669</td>
<td class="instruction">LD A,(IX+$02)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26220"></span>666C</td>
<td class="instruction">ADD A,$15</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26222"></span>666E</td>
<td class="instruction">LD (IX+$02),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26225"></span>6671</td>
<td class="instruction">LD HL,$5DC1</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26228"></span>6674</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26229"></span>6675</td>
<td class="instruction">ADD A,$15</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26231"></span>6677</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26232"></span>6678</td>
<td class="instruction">LD A,(IX+$02)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26235"></span>667B</td>
<td class="instruction">CP $B8</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26237"></span>667D</td>
<td class="instruction">JR Z,$66B8</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26239"></span>667F</td>
<td class="instruction">JR NC,$66A3</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26241"></span>6681</td>
<td class="instruction">LD A,($5DCC)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26244"></span>6684</td>
<td class="instruction">AND $04</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26246"></span>6686</td>
<td class="instruction">JR NZ,$66B3</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26248"></span>6688</td>
<td class="instruction">LD DE,$7FAF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="26251"></span>668B</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26252"></span>668C</td>
<td class="instruction">LD DE,$7F8C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26255"></span>668F</td>
<td class="instruction">CALL <a href="726A.html#29344">$72A0</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26258"></span>6692</td>
<td class="instruction">LD DE,$7FAF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26261"></span>6695</td>
<td class="instruction">CALL <a href="726A.html#29344">$72A0</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26264"></span>6698</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26265"></span>6699</td>
<td class="instruction">CALL <a href="726A.html#29339">$729B</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26268"></span>669C</td>
<td class="instruction">LD (IX+$03),$42</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26272"></span>66A0</td>
<td class="instruction">CALL <a href="71CF.html">ColouriseSprite</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="26275"></span>66A3</td>
<td class="instruction">LD A,(IX+$02)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26278"></span>66A6</td>
<td class="instruction">SUB $15</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26280"></span>66A8</td>
<td class="instruction">LD (IX+$02),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26283"></span>66AB</td>
<td class="instruction">LD HL,$5DC1</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26286"></span>66AE</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26287"></span>66AF</td>
<td class="instruction">SUB $15</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26289"></span>66B1</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26290"></span>66B2</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="26291"></span>66B3</td>
<td class="instruction">LD DE,$7F8C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26294"></span>66B6</td>
<td class="instruction">JR $668B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="26296"></span>66B8</td>
<td class="instruction">LD DE,$7F8C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26299"></span>66BB</td>
<td class="instruction">CALL <a href="726A.html#29344">$72A0</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26302"></span>66BE</td>
<td class="instruction">LD DE,$7FAF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26305"></span>66C1</td>
<td class="instruction">CALL <a href="726A.html#29344">$72A0</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="26308"></span>66C4</td>
<td class="instruction">JP $66A3</td>
<td class="comment-1" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="6498.html">6498</a>
</td>
<td class="up">Up: <a href="../maps/all.html#25887">Map</a></td>
<td class="next">
Next: <a href="66C7.html">66C7</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1983 Ultimate Play the Game &copy; 2023 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.10.</div>
<div><a href="../dec/asm/25887.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>