<!DOCTYPE html>
<html>
<head>
<title>Tranz Am: Routine at 68A0</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="687B.html">687B</a>
</td>
<td class="up">Up: <a href="../maps/all.html#68a0">Map</a></td>
<td class="next">
Next: <a href="6900.html">6900</a>
</td>
</tr>
</table>
<div class="description">68A0: Create Game Window</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routines at <a href="5F07.html">GameInitialisation</a>, <a href="6353.html">GameOver</a>, <a href="6391.html">GameInit</a> and <a href="63FF.html">HandlerCup</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">CreateWindow</td>
<td class="address-2"><span id="68a0"></span>68A0</td>
<td class="instruction">LD HL,$5E68</td>
<td class="comment-1" rowspan="5">Write 00 to 0C bytes starting from <a href="5E68.html">5E68</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68a3"></span>68A3</td>
<td class="instruction">LD BC,$0C00</td>
</tr>
<tr>
<td class="asm-label">CreateWindow_0</td>
<td class="address-2"><span id="68a6"></span>68A6</td>
<td class="instruction">LD (HL),C</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68a7"></span>68A7</td>
<td class="instruction">INC HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68a8"></span>68A8</td>
<td class="instruction">DJNZ <a href="68A0.html#68a6">CreateWindow_0</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68aa"></span>68AA</td>
<td class="instruction">LD HL,$FFFF</td>
<td class="comment-1" rowspan="2">Write FFFF to <a href="5E34.html">PlayerWorldPosition</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68ad"></span>68AD</td>
<td class="instruction">LD ($5E34),HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68b0"></span>68B0</td>
<td class="instruction">LD HL,$65FD</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="65FD.html">TerrainDots</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68b3"></span>68B3</td>
<td class="instruction">LD B,$10</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=10.</td>
</tr>
<tr>
<td class="asm-label">CreateWindow_Terrain</td>
<td class="address-2"><span id="68b5"></span>68B5</td>
<td class="instruction">RES 0,(HL)</td>
<td class="comment-1" rowspan="1">Reset bit 0 of the byte <span class="register">HL</span> is pointing to.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68b7"></span>68B7</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="2">Increment <span class="register">HL</span> by two.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68b8"></span>68B8</td>
<td class="instruction">INC HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68b9"></span>68B9</td>
<td class="instruction">DJNZ <a href="68A0.html#68b5">CreateWindow_Terrain</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="68A0.html#68b5">CreateWindow_Terrain</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68bb"></span>68BB</td>
<td class="instruction">CALL <a href="7200.html">ResetAttributes</a></td>
<td class="comment-1" rowspan="1">Call <a href="7200.html">ResetAttributes</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68be"></span>68BE</td>
<td class="instruction">CALL <a href="69BC.html">DrawPlayArea</a></td>
<td class="comment-1" rowspan="1">Call <a href="69BC.html">DrawPlayArea</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68c1"></span>68C1</td>
<td class="instruction">CALL <a href="6949.html">PlotMapPoints</a></td>
<td class="comment-1" rowspan="1">Call <a href="6949.html">PlotMapPoints</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68c4"></span>68C4</td>
<td class="instruction">CALL <a href="646C.html">DisplayCupsCollected</a></td>
<td class="comment-1" rowspan="1">Call <a href="646C.html">DisplayCupsCollected</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68c7"></span>68C7</td>
<td class="instruction">CALL <a href="687B.html">DisplayPlayerLives</a></td>
<td class="comment-1" rowspan="1">Call <a href="687B.html">DisplayPlayerLives</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68ca"></span>68CA</td>
<td class="instruction">CALL <a href="6CDE.html">DisplayMiles</a></td>
<td class="comment-1" rowspan="1">Call <a href="6CDE.html">DisplayMiles</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68cd"></span>68CD</td>
<td class="instruction">LD HL,$5808</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=5808 (attribute buffer).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68d0"></span>68D0</td>
<td class="instruction">LD BC,$1801</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=1801.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68d3"></span>68D3</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1">Stash <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68d4"></span>68D4</td>
<td class="instruction">CALL <a href="6900.html">AttributesPlayArea</a></td>
<td class="comment-1" rowspan="1">Call <a href="6900.html">AttributesPlayArea</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68d7"></span>68D7</td>
<td class="instruction">LD HL,$5AE8</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=5AE8 (attribute buffer).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68da"></span>68DA</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68db"></span>68DB</td>
<td class="instruction">CALL <a href="6900.html">AttributesPlayArea</a></td>
<td class="comment-1" rowspan="1">Call <a href="6900.html">AttributesPlayArea</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68de"></span>68DE</td>
<td class="instruction">LD HL,$5828</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=5828 (attribute buffer).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68e1"></span>68E1</td>
<td class="instruction">LD BC,$0116</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=0116.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68e4"></span>68E4</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1">Stash <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68e5"></span>68E5</td>
<td class="instruction">CALL <a href="6900.html">AttributesPlayArea</a></td>
<td class="comment-1" rowspan="1">Call <a href="6900.html">AttributesPlayArea</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68e8"></span>68E8</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68e9"></span>68E9</td>
<td class="instruction">LD HL,$583F</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=583F (attribute buffer).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68ec"></span>68EC</td>
<td class="instruction">CALL <a href="6900.html">AttributesPlayArea</a></td>
<td class="comment-1" rowspan="1">Call <a href="6900.html">AttributesPlayArea</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68ef"></span>68EF</td>
<td class="instruction">LD HL,$0050</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=0050.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68f2"></span>68F2</td>
<td class="instruction">LD DE,$6031</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=<a href="6031.html">Text_ScoreHi</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68f5"></span>68F5</td>
<td class="instruction">CALL <a href="6518.html">PrintStringColour</a></td>
<td class="comment-1" rowspan="1">Call <a href="6518.html">PrintStringColour</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68f8"></span>68F8</td>
<td class="instruction">CALL <a href="6CB6.html">Score_Player</a></td>
<td class="comment-1" rowspan="1">Call <a href="6CB6.html">Score_Player</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68fb"></span>68FB</td>
<td class="instruction">CALL <a href="6CB6.html#6cbe">Score_HI</a></td>
<td class="comment-1" rowspan="1">Call <a href="6CB6.html#6cbe">Score_HI</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="68fe"></span>68FE</td>
<td class="instruction">JR <a href="6919.html">DisplayNightDriver</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="6919.html">DisplayNightDriver</a>.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="687B.html">687B</a>
</td>
<td class="up">Up: <a href="../maps/all.html#68a0">Map</a></td>
<td class="next">
Next: <a href="6900.html">6900</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1983 Ultimate Play the Game</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.6.</div>
<div><a href="../../dec/asm/26784.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>