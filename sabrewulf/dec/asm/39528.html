<!DOCTYPE html>
<html>
<head>
<title>Sabre Wulf: Routine at 39528</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="39484.html">39484</a>
</td>
<td class="up">Up: <a href="../maps/all.html#39528">Map</a></td>
<td class="next">
Next: <a href="39608.html">39608</a>
</td>
</tr>
</table>
<div class="description">39528: Routine at 9A68</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="39484.html">HandlerDestructableEnemies</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="39528"></span>39528</td>
<td class="instruction">LD HL,38802</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="38802.html">NastieData</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="39531"></span>39531</td>
<td class="instruction">LD B,6</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=6 (counter).</td>
</tr>
<tr>
<td class="address-1"><span id="39533"></span>39533</td>
<td class="instruction">LD D,0</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=0.</td>
</tr>
<tr>
<td class="address-1"><span id="39535"></span>39535</td>
<td class="instruction">LD A,(38659)</td>
<td class="comment-1" rowspan="2"><span class="register">E</span>=<a href="38658.html#38659">38659</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="39538"></span>39538</td>
<td class="instruction">LD E,A</td>
</tr>
<tr>
<td class="address-2"><span id="39539"></span>39539</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=.</td>
</tr>
<tr>
<td class="address-1"><span id="39540"></span>39540</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39541"></span>39541</td>
<td class="instruction">JR Z,<a href="39528.html#39550">39550</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39543"></span>39543</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39544"></span>39544</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39545"></span>39545</td>
<td class="instruction">CP (HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39546"></span>39546</td>
<td class="instruction">DEC HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39547"></span>39547</td>
<td class="instruction">JR NZ,<a href="39528.html#39550">39550</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39549"></span>39549</td>
<td class="instruction">INC D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="39550"></span>39550</td>
<td class="instruction">LD A,12</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=12.</td>
</tr>
<tr>
<td class="address-1"><span id="39552"></span>39552</td>
<td class="instruction">CALL <a href="39735.html">Add_HL_A</a></td>
<td class="comment-1" rowspan="1">Call <a href="39735.html">Add_HL_A</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="39555"></span>39555</td>
<td class="instruction">DJNZ <a href="39528.html#39539">39539</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39557"></span>39557</td>
<td class="instruction">LD A,(38590)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39560"></span>39560</td>
<td class="instruction">CP D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39561"></span>39561</td>
<td class="instruction">RET Z</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39562"></span>39562</td>
<td class="instruction">CALL <a href="39693.html">39693</a></td>
<td class="comment-1" rowspan="1">Call <a href="39693.html">39693</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="39565"></span>39565</td>
<td class="instruction">RET C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39566"></span>39566</td>
<td class="instruction">LD A,(38547)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<a href="38547.html">CounterLow</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="39569"></span>39569</td>
<td class="instruction">AND %00000011</td>
<td class="comment-1" rowspan="1">Keep only bits 0-1.</td>
</tr>
<tr>
<td class="address-1"><span id="39571"></span>39571</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="2">Create an offset.</td>
</tr>
<tr>
<td class="address-1"><span id="39572"></span>39572</td>
<td class="instruction">LD H,0</td>
</tr>
<tr>
<td class="address-1"><span id="39574"></span>39574</td>
<td class="instruction">LD BC,39608</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>=<a href="39608.html">ColourBytes</a> + <span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="39577"></span>39577</td>
<td class="instruction">ADD HL,BC</td>
</tr>
<tr>
<td class="address-1"><span id="39578"></span>39578</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39579"></span>39579</td>
<td class="instruction">LD (IX+5),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="39582"></span>39582</td>
<td class="instruction">LD (IX+0),1</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="39586"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="39612.html">39612</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="39586"></span>39586</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="7">Writes 0 to: <table class="default">
<tr>
<td class="centre" colspan="1" rowspan="1"><span class="register">IX</span>+6</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1"><span class="register">IX</span>+7</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1"><span class="register">IX</span>+8</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1"><span class="register">IX</span>+9</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1"><span class="register">IX</span>+10</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1"><span class="register">IX</span>+11</td>
</tr>
</table></td>
</tr>
<tr>
<td class="address-1"><span id="39587"></span>39587</td>
<td class="instruction">LD (IX+6),A</td>
</tr>
<tr>
<td class="address-1"><span id="39590"></span>39590</td>
<td class="instruction">LD (IX+7),A</td>
</tr>
<tr>
<td class="address-1"><span id="39593"></span>39593</td>
<td class="instruction">LD (IX+8),A</td>
</tr>
<tr>
<td class="address-1"><span id="39596"></span>39596</td>
<td class="instruction">LD (IX+9),A</td>
</tr>
<tr>
<td class="address-1"><span id="39599"></span>39599</td>
<td class="instruction">LD (IX+10),A</td>
</tr>
<tr>
<td class="address-1"><span id="39602"></span>39602</td>
<td class="instruction">LD (IX+11),A</td>
</tr>
<tr>
<td class="address-1"><span id="39605"></span>39605</td>
<td class="instruction">JP <a href="47385.html">DrawEntity</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="47385.html">DrawEntity</a>.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="39484.html">39484</a>
</td>
<td class="up">Up: <a href="../maps/all.html#39528">Map</a></td>
<td class="next">
Next: <a href="39608.html">39608</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1984 Ultimate Play the Game &copy; 2024 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.0.</div>
<div class="repository">Link to <a href="https://github.com/pobtastic/ultimate/tree/main/sources/sabrewulf/">Source code</a>.</div>
<div><a href="asm/39528.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>