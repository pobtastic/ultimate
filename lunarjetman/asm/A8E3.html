<!DOCTYPE html>
<html>
<head>
<title>Lunar Jetman: Routine at A8E3</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="A8B5.html">A8B5</a>
</td>
<td class="up">Up: <a href="../maps/all.html#a8e3">Map</a></td>
<td class="next">
Next: <a href="A993.html">A993</a>
</td>
</tr>
</table>
<div class="description">A8E3: Game Over</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
</div>
</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="a8e3"></span>
<div class="comments">
<div class="paragraph">
Set up altering the "GAME OVER PLAYER <em>X</em>" message for 1UP.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">GameOver_1UP</td>
<td class="address-2"><span id="a8e3"></span>A8E3</td>
<td class="instruction">LD A,"1"+$80</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>="1" + 80 (escape character).</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="a8e5"></span>
<div class="comments">
<div class="paragraph">
Print the messaging and pause to show it for a period of time.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">GameOver_Write</td>
<td class="address-2"><span id="a8e5"></span>A8E5</td>
<td class="instruction">LD ($A95D),A</td>
<td class="comment-1" rowspan="1">Write ASCII player number to <a href="A8E3.html#a94c">A95D</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a8e8"></span>A8E8</td>
<td class="instruction">CALL <a href="84D8.html">CreateWindow</a></td>
<td class="comment-1" rowspan="1">Call <a href="84D8.html">CreateWindow</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a8eb"></span>A8EB</td>
<td class="instruction">LD DE,$A94B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a8ee"></span>A8EE</td>
<td class="instruction">LD HL,$7038</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a8f1"></span>A8F1</td>
<td class="instruction">CALL <a href="8A11.html">PrintStringColour</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a8f4"></span>A8F4</td>
<td class="instruction">LD DE,$B9D2</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a8f7"></span>A8F7</td>
<td class="instruction">CALL <a href="B9BC.html">$B9BC</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a8fa"></span>A8FA</td>
<td class="instruction">LD B,$04</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a8fc"></span>A8FC</td>
<td class="instruction">LD A,($6090)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a8ff"></span>A8FF</td>
<td class="instruction">SUB $1A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a901"></span>A901</td>
<td class="instruction">CP $10</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a903"></span>A903</td>
<td class="instruction">JR C,<a href="A8E3.html#a922">GameOver_1UP_0</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a905"></span>A905</td>
<td class="instruction">LD DE,$A95E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a908"></span>A908</td>
<td class="instruction">LD HL,$3818</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a90b"></span>A90B</td>
<td class="instruction">CALL <a href="8A11.html">PrintStringColour</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a90e"></span>A90E</td>
<td class="instruction">LD DE,$A979</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a911"></span>A911</td>
<td class="instruction">LD HL,$4858</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a914"></span>A914</td>
<td class="instruction">CALL <a href="8A11.html">PrintStringColour</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a917"></span>A917</td>
<td class="instruction">LD DE,$A985</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a91a"></span>A91A</td>
<td class="instruction">LD HL,$5850</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a91d"></span>A91D</td>
<td class="instruction">CALL <a href="8A11.html">PrintStringColour</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a920"></span>A920</td>
<td class="instruction">LD B,$08</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">GameOver_1UP_0</td>
<td class="address-2"><span id="a922"></span>A922</td>
<td class="instruction">LD HL,$0000</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">GameOver_1UP_1</td>
<td class="address-2"><span id="a925"></span>A925</td>
<td class="instruction">DEC HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a926"></span>A926</td>
<td class="instruction">LD A,H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a927"></span>A927</td>
<td class="instruction">OR L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a928"></span>A928</td>
<td class="instruction">JR NZ,<a href="A8E3.html#a925">GameOver_1UP_1</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a92a"></span>A92A</td>
<td class="instruction">DJNZ <a href="A8E3.html#a925">GameOver_1UP_1</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a92c"></span>A92C</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="a92d"></span>
<div class="comments">
<div class="paragraph">
Set up altering the "GAME OVER PLAYER <em>X</em>" message for 2UP.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">GameOver_2UP</td>
<td class="address-2"><span id="a92d"></span>A92D</td>
<td class="instruction">LD A,"2"+$80</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>="2" + 80 (escape character).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a92f"></span>A92F</td>
<td class="instruction">JR <a href="A8E3.html#a8e5">GameOver_Write</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="A8E3.html#a8e5">GameOver_Write</a>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="a931"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="A8B5.html">A8B5</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">GameOver_1UP_2</td>
<td class="address-2"><span id="a931"></span>A931</td>
<td class="instruction">LD A,($5E65)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a934"></span>A934</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a935"></span>A935</td>
<td class="instruction">JR Z,<a href="A8E3.html#a8e3">GameOver_1UP</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a937"></span>A937</td>
<td class="instruction">JR <a href="A8E3.html#a92d">GameOver_2UP</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="a939"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="A8B5.html">A8B5</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">GameOver_1UP_3</td>
<td class="address-2"><span id="a939"></span>A939</td>
<td class="instruction">LD A,($5E65)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a93c"></span>A93C</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a93d"></span>A93D</td>
<td class="instruction">JR NZ,<a href="A8E3.html#a945">GameOver_1UP_4</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a93f"></span>A93F</td>
<td class="instruction">CALL <a href="A8E3.html#a8e3">GameOver_1UP</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a942"></span>A942</td>
<td class="instruction">JP <a href="F56E.html">$F56E</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">GameOver_1UP_4</td>
<td class="address-2"><span id="a945"></span>A945</td>
<td class="instruction">CALL <a href="A8E3.html#a92d">GameOver_2UP</a></td>
<td class="comment-1" rowspan="1">Call <a href="A8E3.html#a92d">GameOver_2UP</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a948"></span>A948</td>
<td class="instruction">JP <a href="F56E.html">$F56E</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F56E.html">F56E</a>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="a94b"></span>
<div class="comments">
<div class="paragraph">
Game Over Messaging
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">GameOver_Text</td>
<td class="address-1"><span id="a94b"></span>A94B</td>
<td class="instruction">DEFM $47</td>
<td class="comment-1" rowspan="2">Attribute: 47 + "GAME OVER PLAYER X".</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a94c"></span>A94C</td>
<td class="instruction">DEFM "GAME OVER PLAYER ","0"+$80</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a95e"></span>A95E</td>
<td class="instruction">DEFM $45</td>
<td class="comment-1" rowspan="2">Attribute: 45 + "YOUR LUNAR ROVER HAS BEEN".</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a95f"></span>A95F</td>
<td class="instruction">DEFM "YOUR LUNAR ROVER HAS BEEN"," "+$80</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a979"></span>A979</td>
<td class="instruction">DEFM $45</td>
<td class="comment-1" rowspan="2">Attribute: 45 + "DESTROYED.".</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a97a"></span>A97A</td>
<td class="instruction">DEFM "DESTROYED."," "+$80</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a985"></span>A985</td>
<td class="instruction">DEFM $45</td>
<td class="comment-1" rowspan="2">Attribute: 45 + "ALL IS LOST.".</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="a986"></span>A986</td>
<td class="instruction">DEFM "ALL IS LOST."," "+$80</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<div class="comments">
<div class="paragraph">
View the equivalent code in; <ul class="">
<li><a href="/ultimate/cookie/asm/6BE0.html">Cookie</a></li>
</ul>
</div>
</div>
</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="A8B5.html">A8B5</a>
</td>
<td class="up">Up: <a href="../maps/all.html#a8e3">Map</a></td>
<td class="next">
Next: <a href="A993.html">A993</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1983 Ultimate Play the Game &copy; 2023 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.10.</div>
<div><a href="../dec/asm/43235.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>