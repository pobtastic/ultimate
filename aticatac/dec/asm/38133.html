<!DOCTYPE html>
<html>
<head>
<title>Atic Atac: Routine at 38133</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="38070.html">38070</a>
</td>
<td class="up">Up: <a href="../maps/all.html#38133">Map</a></td>
<td class="next">
Next: <a href="38269.html">38269</a>
</td>
</tr>
</table>
<div class="description">38133: Randomise Doors</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="32154.html">StartGame</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors</td>
<td class="address-2"><span id="38133"></span>38133</td>
<td class="instruction">LD A,(24082)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38136"></span>38136</td>
<td class="instruction">LD L,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38137"></span>38137</td>
<td class="instruction">LD A,(23672)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38140"></span>38140</td>
<td class="instruction">AND 15</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38142"></span>38142</td>
<td class="instruction">OR 16</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38144"></span>38144</td>
<td class="instruction">LD H,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38145"></span>38145</td>
<td class="instruction">EXX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38146"></span>38146</td>
<td class="instruction">LD HL,61152</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38149"></span>38149</td>
<td class="instruction">LD DE,61160</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38152"></span>38152</td>
<td class="instruction">LD BC,16</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_0</td>
<td class="address-2"><span id="38155"></span>38155</td>
<td class="instruction">EXX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38156"></span>38156</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38157"></span>38157</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38158"></span>38158</td>
<td class="instruction">EXX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38159"></span>38159</td>
<td class="instruction">CP 112</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38161"></span>38161</td>
<td class="instruction">JR NC,<a href="38133.html#38175">RandomiseDoors_1</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38163"></span>38163</td>
<td class="instruction">LD A,(DE)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38164"></span>38164</td>
<td class="instruction">CP (HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38165"></span>38165</td>
<td class="instruction">JR NZ,<a href="38133.html#38175">RandomiseDoors_1</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38167"></span>38167</td>
<td class="instruction">CP 1</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38169"></span>38169</td>
<td class="instruction">JR Z,<a href="38133.html#38182">RandomiseDoors_3</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38171"></span>38171</td>
<td class="instruction">CP 2</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38173"></span>38173</td>
<td class="instruction">JR Z,<a href="38133.html#38210">RandomiseDoors_5</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_1</td>
<td class="address-2"><span id="38175"></span>38175</td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="38176"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="38070.html">PlaceKeyPieces</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_2</td>
<td class="address-2"><span id="38176"></span>38176</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38177"></span>38177</td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38178"></span>38178</td>
<td class="instruction">RET C</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38179"></span>38179</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38180"></span>38180</td>
<td class="instruction">JR <a href="38133.html#38155">RandomiseDoors_0</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_3</td>
<td class="address-2"><span id="38182"></span>38182</td>
<td class="instruction">LD A,34</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_4</td>
<td class="address-2"><span id="38184"></span>38184</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38185"></span>38185</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38186"></span>38186</td>
<td class="instruction">PUSH DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38187"></span>38187</td>
<td class="instruction">INC DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38188"></span>38188</td>
<td class="instruction">INC DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38189"></span>38189</td>
<td class="instruction">INC DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38190"></span>38190</td>
<td class="instruction">INC DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38191"></span>38191</td>
<td class="instruction">INC DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38192"></span>38192</td>
<td class="instruction">LD A,(DE)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38193"></span>38193</td>
<td class="instruction">OR 8</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38195"></span>38195</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38196"></span>38196</td>
<td class="instruction">POP DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38197"></span>38197</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38198"></span>38198</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38199"></span>38199</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38200"></span>38200</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38201"></span>38201</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38202"></span>38202</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38203"></span>38203</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38204"></span>38204</td>
<td class="instruction">OR 8</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38206"></span>38206</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38207"></span>38207</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38208"></span>38208</td>
<td class="instruction">JR <a href="38133.html#38175">RandomiseDoors_1</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_5</td>
<td class="address-2"><span id="38210"></span>38210</td>
<td class="instruction">LD A,32</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38212"></span>38212</td>
<td class="instruction">JR <a href="38133.html#38184">RandomiseDoors_4</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="38214"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="37245.html">HandlerDoorClosed</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_6</td>
<td class="address-2"><span id="38214"></span>38214</td>
<td class="instruction">LD A,(IX+0)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38217"></span>38217</td>
<td class="instruction">AND 1</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38219"></span>38219</td>
<td class="instruction">JR Z,<a href="38133.html#38245">RandomiseDoors_8</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="38221"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routines at <a href="37374.html">HandlerRoomItem</a>, <a href="37935.html">HandlerClock</a> and <a href="38427.html">HandlerDoorACGExit</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_7</td>
<td class="address-2"><span id="38221"></span>38221</td>
<td class="instruction">LD A,(IX+5)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38224"></span>38224</td>
<td class="instruction">AND 247</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38226"></span>38226</td>
<td class="instruction">LD (IX+5),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38229"></span>38229</td>
<td class="instruction">PUSH IX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38231"></span>38231</td>
<td class="instruction">CALL <a href="37458.html#37510">HandlerCaveDoorLocked_5</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38234"></span>38234</td>
<td class="instruction">LD A,(IX+5)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38237"></span>38237</td>
<td class="instruction">AND 247</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38239"></span>38239</td>
<td class="instruction">LD (IX+5),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38242"></span>38242</td>
<td class="instruction">POP IX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38244"></span>38244</td>
<td class="instruction">RET</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="38245"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routines at <a href="37374.html">HandlerRoomItem</a>, <a href="37935.html">HandlerClock</a> and <a href="38427.html">HandlerDoorACGExit</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_8</td>
<td class="address-2"><span id="38245"></span>38245</td>
<td class="instruction">LD A,(IX+5)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38248"></span>38248</td>
<td class="instruction">OR 8</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38250"></span>38250</td>
<td class="instruction">LD (IX+5),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38253"></span>38253</td>
<td class="instruction">PUSH IX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38255"></span>38255</td>
<td class="instruction">CALL <a href="37458.html#37510">HandlerCaveDoorLocked_5</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38258"></span>38258</td>
<td class="instruction">LD A,(IX+5)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38261"></span>38261</td>
<td class="instruction">OR 8</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38263"></span>38263</td>
<td class="instruction">LD (IX+5),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38266"></span>38266</td>
<td class="instruction">POP IX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="38268"></span>38268</td>
<td class="instruction">RET</td>
<td class="comment-0" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="38070.html">38070</a>
</td>
<td class="up">Up: <a href="../maps/all.html#38133">Map</a></td>
<td class="next">
Next: <a href="38269.html">38269</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1983 Ultimate Play the Game</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.6.</div>
<div><a href="../../hex/asm/94F5.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>