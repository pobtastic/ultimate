<!DOCTYPE html>
<html>
<head>
<title>Atic Atac: Routine at 94F5</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="94B6.html">94B6</a>
</td>
<td class="up">Up: <a href="../maps/all.html#94f5">Map</a></td>
<td class="next">
Next: <a href="957D.html">957D</a>
</td>
</tr>
</table>
<div class="description">94F5: Randomise Doors</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="7D9A.html">StartGame</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors</td>
<td class="address-2"><span id="94f5"></span>94F5</td>
<td class="instruction">LD A,($5E12)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="94f8"></span>94F8</td>
<td class="instruction">LD L,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="94f9"></span>94F9</td>
<td class="instruction">LD A,($5C78)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="94fc"></span>94FC</td>
<td class="instruction">AND $0F</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="94fe"></span>94FE</td>
<td class="instruction">OR $10</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9500"></span>9500</td>
<td class="instruction">LD H,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9501"></span>9501</td>
<td class="instruction">EXX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9502"></span>9502</td>
<td class="instruction">LD HL,$EEE0</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9505"></span>9505</td>
<td class="instruction">LD DE,$EEE8</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9508"></span>9508</td>
<td class="instruction">LD BC,$0010</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_0</td>
<td class="address-2"><span id="950b"></span>950B</td>
<td class="instruction">EXX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="950c"></span>950C</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="950d"></span>950D</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="950e"></span>950E</td>
<td class="instruction">EXX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="950f"></span>950F</td>
<td class="instruction">CP $70</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9511"></span>9511</td>
<td class="instruction">JR NC,<a href="94F5.html#951f">RandomiseDoors_1</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9513"></span>9513</td>
<td class="instruction">LD A,(DE)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9514"></span>9514</td>
<td class="instruction">CP (HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9515"></span>9515</td>
<td class="instruction">JR NZ,<a href="94F5.html#951f">RandomiseDoors_1</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9517"></span>9517</td>
<td class="instruction">CP $01</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9519"></span>9519</td>
<td class="instruction">JR Z,<a href="94F5.html#9526">RandomiseDoors_3</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="951b"></span>951B</td>
<td class="instruction">CP $02</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="951d"></span>951D</td>
<td class="instruction">JR Z,<a href="94F5.html#9542">RandomiseDoors_5</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_1</td>
<td class="address-2"><span id="951f"></span>951F</td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="9520"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="94B6.html">PlaceKeyPieces</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_2</td>
<td class="address-2"><span id="9520"></span>9520</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9521"></span>9521</td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9522"></span>9522</td>
<td class="instruction">RET C</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9523"></span>9523</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9524"></span>9524</td>
<td class="instruction">JR <a href="94F5.html#950b">RandomiseDoors_0</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_3</td>
<td class="address-2"><span id="9526"></span>9526</td>
<td class="instruction">LD A,$22</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_4</td>
<td class="address-2"><span id="9528"></span>9528</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9529"></span>9529</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="952a"></span>952A</td>
<td class="instruction">PUSH DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="952b"></span>952B</td>
<td class="instruction">INC DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="952c"></span>952C</td>
<td class="instruction">INC DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="952d"></span>952D</td>
<td class="instruction">INC DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="952e"></span>952E</td>
<td class="instruction">INC DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="952f"></span>952F</td>
<td class="instruction">INC DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9530"></span>9530</td>
<td class="instruction">LD A,(DE)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9531"></span>9531</td>
<td class="instruction">OR $08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9533"></span>9533</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9534"></span>9534</td>
<td class="instruction">POP DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9535"></span>9535</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9536"></span>9536</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9537"></span>9537</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9538"></span>9538</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9539"></span>9539</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="953a"></span>953A</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="953b"></span>953B</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="953c"></span>953C</td>
<td class="instruction">OR $08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="953e"></span>953E</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="953f"></span>953F</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9540"></span>9540</td>
<td class="instruction">JR <a href="94F5.html#951f">RandomiseDoors_1</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_5</td>
<td class="address-2"><span id="9542"></span>9542</td>
<td class="instruction">LD A,$20</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9544"></span>9544</td>
<td class="instruction">JR <a href="94F5.html#9528">RandomiseDoors_4</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="9546"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="917D.html">HandlerDoorClosed</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_6</td>
<td class="address-2"><span id="9546"></span>9546</td>
<td class="instruction">LD A,(IX+$00)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9549"></span>9549</td>
<td class="instruction">AND $01</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="954b"></span>954B</td>
<td class="instruction">JR Z,<a href="94F5.html#9565">RandomiseDoors_8</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="954d"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routines at <a href="91FE.html">HandlerRoomItem</a>, <a href="942F.html">HandlerClock</a> and <a href="961B.html">HandlerDoorACGExit</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_7</td>
<td class="address-2"><span id="954d"></span>954D</td>
<td class="instruction">LD A,(IX+$05)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9550"></span>9550</td>
<td class="instruction">AND $F7</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9552"></span>9552</td>
<td class="instruction">LD (IX+$05),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9555"></span>9555</td>
<td class="instruction">PUSH IX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9557"></span>9557</td>
<td class="instruction">CALL <a href="9252.html#9286">HandlerCaveDoorLocked_5</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="955a"></span>955A</td>
<td class="instruction">LD A,(IX+$05)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="955d"></span>955D</td>
<td class="instruction">AND $F7</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="955f"></span>955F</td>
<td class="instruction">LD (IX+$05),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9562"></span>9562</td>
<td class="instruction">POP IX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9564"></span>9564</td>
<td class="instruction">RET</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="9565"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routines at <a href="91FE.html">HandlerRoomItem</a>, <a href="942F.html">HandlerClock</a> and <a href="961B.html">HandlerDoorACGExit</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">RandomiseDoors_8</td>
<td class="address-2"><span id="9565"></span>9565</td>
<td class="instruction">LD A,(IX+$05)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9568"></span>9568</td>
<td class="instruction">OR $08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="956a"></span>956A</td>
<td class="instruction">LD (IX+$05),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="956d"></span>956D</td>
<td class="instruction">PUSH IX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="956f"></span>956F</td>
<td class="instruction">CALL <a href="9252.html#9286">HandlerCaveDoorLocked_5</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9572"></span>9572</td>
<td class="instruction">LD A,(IX+$05)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9575"></span>9575</td>
<td class="instruction">OR $08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9577"></span>9577</td>
<td class="instruction">LD (IX+$05),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="957a"></span>957A</td>
<td class="instruction">POP IX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="957c"></span>957C</td>
<td class="instruction">RET</td>
<td class="comment-0" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="94B6.html">94B6</a>
</td>
<td class="up">Up: <a href="../maps/all.html#94f5">Map</a></td>
<td class="next">
Next: <a href="957D.html">957D</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1983 Ultimate Play the Game &copy; 2023 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.10.</div>
<div class="repository">Link to <a href="https://github.com/pobtastic/ultimate/tree/main/sources/aticatac/">Source code</a>.</div>
<div><a href="../dec/asm/38133.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>